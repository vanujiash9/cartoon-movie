<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">    <title>John Wick: Chapter 3 - Parabellum | Maxion</title>
    <link rel="stylesheet" href="./movie.css">
    <style>
        /* CSS cho th√¥ng b√°o l·ªói */
        .error-container {
            text-align: center;
            padding: 30px;
            margin: 20px auto;
            max-width: 600px;
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }

        .error-container h2 {
            color: #ff5252;
            margin-bottom: 15px;
        }

        .error-container p {
            color: #ccc;
            margin-bottom: 20px;
        }

        .error-container button {
            background: #ff5252;
            border: none;
            padding: 10px 20px;
            color: white;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
        }

        .error-container button:hover {
            background: #ff7373;
        }

        .error-message {
            color: #ff5252;
            padding: 10px;
            margin: 10px 0;
            background-color: rgba(255, 82, 82, 0.1);
            border-radius: 5px;
        }

        .no-episodes {
            text-align: center;
            padding: 15px;
            color: #999;
            font-style: italic;
        }
    </style>
</head>

<body>
    <!-- Notification -->
    <div class="notification" id="notification"></div>

    <!-- Header -->
    <header class="header" id="header">
        <div class="header-content">
            <button class="back-btn" onclick="goBack()">
                <span>‚Üê</span>
                <span>Quay l·∫°i trang ch·ªß</span>
            </button>

            <a href="../index.html" class="logo">MAXION</a>
            <style>
                a {
                    text-decoration: none;
                }
            </style>
            <div class="header-actions">
                <button class="action-btn" onclick="togglePictureInPicture()" title="Picture in Picture">
                    <span>‚ßâ</span>
                </button>
            </div>
        </div>
    </header>

    <!-- Video Container -->
    <div class="video-container" id="videoContainer">
        <div class="video-player" id="videoPlayer">
            <video class="video-element" id="videoElement" preload="metadata">
                <source src="https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4"
                    type="video/mp4">
                <track kind="captions" src="" srclang="vi" label="Ti·∫øng Vi·ªát">
                <track kind="captions" src="" srclang="en" label="English">
                Tr√¨nh duy·ªát c·ªßa b·∫°n kh√¥ng h·ªó tr·ª£ th·∫ª video.
            </video>

            <!-- Loading Overlay -->
            <div class="loading-overlay" id="loadingOverlay">
                <div class="loading-spinner"></div>
            </div>
            <!-- Video Controls -->
            <div class="video-controls" id="videoControls">
                <div class="progress-container" id="progressContainer">
                    <div class="progress-bar">
                        <div class="progress-filled" id="progressFilled"></div>
                        <div class="progress-thumb" id="progressThumb"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    </div>

    <!-- Picture in Picture Container -->
    <div class="pip-container" id="pipContainer">
        <video class="pip-video" id="pipVideo"></video>
        <div class="pip-controls">
            <button class="pip-btn" onclick="closePiP()">√ó</button>
        </div>
    </div>

    <!-- Content Section -->
    <div class="content-section" id="contentSection">
        <div class="movie-info">
            <div class="movie-details">
                <h1>ƒêang t·∫£i phim...</h1>
                <div class="current-episode-info">
                    <h3 class="current-episode-title">ƒêang t·∫£i...</h3>
                </div>
                <!-- ti√™u ƒë·ªÅ phim -->
                <p class="description">
                </p>

                <!-- Episodes Section (moved up) -->
                <div class="episodes-section">
                    <h3>Danh s√°ch t·∫≠p</h3>
                    <div id="episodes-container" class="episodes-horizontal"></div>
                </div>

                <!-- Movie Meta Information -->
                <div class="movie-meta" id="movieMeta">
                    <div class="meta-item rating">
                        <span>‚≠ê</span>
                        <span id="movieRating">ƒêang t·∫£i...</span>
                        <span id="reviewCount" style="font-size: 0.9em; opacity: 0.8;"></span>
                    </div>
                    <div class="meta-item year">
                        <span>üìÖ</span>
                        <span id="movieYear">ƒêang t·∫£i...</span>
                    </div>
                    <div class="meta-item duration">
                        <span>‚è±Ô∏è</span>
                        <span id="movieDuration">ƒêang t·∫£i...</span>
                    </div>
                    <div class="meta-item genre">
                        <span>üé≠</span>
                        <span id="movieGenre">ƒêang t·∫£i...</span>
                    </div>
                </div>

                <!-- Like/Dislike Actions -->
                <div class="rating-actions">
                    <button class="rating-btn" id="likeBtn" onclick="toggleLike()">
                        <span>üëç</span>
                        <span>Th√≠ch</span>
                        <span class="count" id="likeCount">0</span>
                    </button>
                    <button class="rating-btn" id="dislikeBtn" onclick="toggleDislike()">
                        <span>üëé</span>
                        <span>Kh√¥ng th√≠ch</span>
                        <span class="count" id="dislikeCount">0</span>
                    </button>
                </div>

                <!-- Movie Actions -->
                <div class="movie-actions">
                    <button class="action-btn primary" onclick="restartMovie()">
                        <span>üîÑ</span>
                        <span>Xem l·∫°i t·ª´ ƒë·∫ßu</span>
                    </button>
                    <button class="action-btn" onclick="toggleFavorite()">
                        <span>‚ù§Ô∏è</span>
                        <span id="favoriteText">Th√™m v√†o y√™u th√≠ch</span>
                    </button>
                    <button class="action-btn" onclick="downloadMovie()">
                        <span>‚¨áÔ∏è</span>
                        <span>T·∫£i xu·ªëng</span>
                    </button>
                    <button class="action-btn" onclick="shareMovie()">
                        <span>üì§</span>
                        <span>Chia s·∫ª</span>
                    </button>
                </div>

                <div class="cast-crew">
                    <h3>Di·ªÖn vi√™n & ƒê·∫°o di·ªÖn</h3>
                    <div class="cast-list">
                        <div class="cast-member">
                            <div class="cast-avatar">KR</div>
                            <div class="cast-name">Keanu Reeves</div>
                        </div>
                        <div class="cast-member">
                            <div class="cast-avatar">HB</div>
                            <div class="cast-name">Halle Berry</div>
                        </div>
                        <div class="cast-member">
                            <div class="cast-avatar">IM</div>
                            <div class="cast-name">Ian McShane</div>
                        </div>
                        <div class="cast-member">
                            <div class="cast-avatar">LF</div>
                            <div class="cast-name">Laurence Fishburne</div>
                        </div>
                        <div class="cast-member">
                            <div class="cast-avatar">CS</div>
                            <div class="cast-name">Chad Stahelski</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="sidebar">
                <h3>Phim li√™n quan</h3>
                <div class="related-movies">
                    <div class="related-movie" onclick="playRelatedMovie(2)">
                        <div class="related-poster">NA</div>
                        <div class="related-info">
                            <h4>Naruto</h4>
                            <p>2002 ‚Ä¢ Anime</p>
                            <div class="related-rating">
                                <span>‚≠ê</span>
                                <span>8.5</span>
                            </div>
                        </div>
                    </div>

                    <div class="related-movie" onclick="playRelatedMovie(6)">
                        <div class="related-poster">JK</div>
                        <div class="related-info">
                            <h4>Jujutsu Kaisen</h4>
                            <p>2020 ‚Ä¢ Anime</p>
                            <div class="related-rating">
                                <span>‚≠ê</span>
                                <span>9.0</span>
                            </div>
                        </div>
                    </div>

                    <div class="related-movie" onclick="playRelatedMovie(5)">
                        <div class="related-poster">AOT</div>
                        <div class="related-info">
                            <h4>Attack on Titan</h4>
                            <p>2013 ‚Ä¢ Anime</p>
                            <div class="related-rating">
                                <span>‚≠ê</span>
                                <span>9.2</span>
                            </div>
                        </div>
                    </div>

                    <div class="related-movie" onclick="playRelatedMovie(7)">
                        <div class="related-poster">DS</div>
                        <div class="related-info">
                            <h4>Demon Slayer</h4>
                            <p>2019 ‚Ä¢ Anime</p>
                            <div class="related-rating">
                                <span>‚≠ê</span>
                                <span>8.8</span>
                            </div>
                        </div>
                    </div>

                    <div class="related-movie" onclick="playRelatedMovie(9)">
                        <div class="related-poster">MHA</div>
                        <div class="related-info">
                            <h4>My Hero Academia</h4>
                            <p>2016 ‚Ä¢ Anime</p>
                            <div class="related-rating">
                                <span>‚≠ê</span>
                                <span>8.6</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div> <!-- Comments Section -->
        <div class="comments-section">
            <div class="comments-header">
                <h3 id="comments-count">B√¨nh lu·∫≠n (0)</h3>
                <select id="comments-sort"
                    style="background: var(--secondary-bg); color: var(--text-primary); border: 1px solid rgba(255,255,255,0.2); padding: 8px; border-radius: 6px;"
                    onchange="sortComments()">
                    <option value="newest">M·ªõi nh·∫•t</option>
                    <option value="oldest">C≈© nh·∫•t</option>
                    <option value="popular">Ph·ªï bi·∫øn nh·∫•t</option>
                </select>
            </div>

            <!-- Authentication prompt for non-logged in users -->
            <div id="auth-prompt" class="auth-prompt" style="display: none;">
                <p>B·∫°n c·∫ßn ƒëƒÉng nh·∫≠p ƒë·ªÉ b√¨nh lu·∫≠n v√† t∆∞∆°ng t√°c.</p>
                <button class="login-btn" onclick="window.location.href='../login_register/login.html'">
                    ƒêƒÉng nh·∫≠p
                </button>
            </div>

            <!-- Comment form for authenticated users -->
            <div id="comment-form-container" class="comment-form">
                <textarea id="comment-input" class="comment-input" placeholder="Vi·∫øt b√¨nh lu·∫≠n c·ªßa b·∫°n..."
                    maxlength="500"></textarea>
                <div class="comment-actions">
                    <div style="display: flex; align-items: center; gap: 10px;">
                        <label>ƒê√°nh gi√°: </label>
                        <select id="rating-select"
                            style="background: var(--secondary-bg); color: var(--text-primary); border: 1px solid rgba(255,255,255,0.2); padding: 5px; border-radius: 4px;">
                            <option value="5">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê (5/5)</option>
                            <option value="4">‚≠ê‚≠ê‚≠ê‚≠ê (4/5)</option>
                            <option value="3">‚≠ê‚≠ê‚≠ê (3/5)</option>
                            <option value="2">‚≠ê‚≠ê (2/5)</option>
                            <option value="1">‚≠ê (1/5)</option>
                        </select>
                    </div>
                    <button class="action-button btn-primary" onclick="postComment()">ƒêƒÉng b√¨nh lu·∫≠n</button>
                </div>
            </div>

            <div id="comments-list" class="comments-list">
                <div style="text-align: center; padding: 20px; color: #666;">
                    ƒêang t·∫£i b√¨nh lu·∫≠n...
                </div>
            </div>
        </div>
    </div>    <!-- Import JavaScript t·ª´ file ri√™ng -->
    <script src="./movie.js"></script>
</body>

</html>